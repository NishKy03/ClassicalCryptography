<!DOCTYPE html>
<html>
<head>
    <title>Shift Cipher System</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .container { display: flex; flex-wrap: wrap; gap: 30px; }
        .box { flex: 1; min-width: 400px; border: 1px solid #ddd; padding: 20px; border-radius: 5px; }
        textarea { width: 100%; height: 100px; margin-bottom: 10px; padding: 8px; }
        button { padding: 8px 15px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px; }
        button:hover { background-color: #45a049; }
        .result { margin-top: 15px; padding: 15px; background-color: #f9f9f9; border-radius: 4px; }
        .process-steps { margin-top: 15px; padding: 10px; background-color: #f0f0f0; border-radius: 4px; }
        .process-step { margin: 5px 0; font-family: monospace; }
        .shift-control { margin-bottom: 15px; }
        .shift-control label { display: inline-block; width: 120px; }
        .shift-control input { width: 60px; padding: 5px; }
        .alphabet-visualization { margin-top: 20px; padding: 15px; background-color: #eef6ff; border-radius: 4px; overflow-x: auto; }
        .alphabet-row { display: flex; justify-content: flex-start; margin-bottom: 10px; }
        .alphabet-letter { min-width: 30px; height: 30px; display: flex; justify-content: center; align-items: center; border: 1px solid #ccc; margin-right: 2px; }
        .brute-force-results { margin-top: 20px; background-color: #f5f5f5; padding: 15px; border-radius: 4px; }
        .brute-force-result { margin: 5px 0; padding: 5px; border-bottom: 1px solid #ddd; }
        .explanation { margin: 20px 0; padding: 15px; background-color: #f8f9fa; border-left: 5px solid #4CAF50; }
    </style>
</head>
<body>
    <h1>Shift Cipher (Caesar Cipher) System</h1>
    
    <div class="explanation">
        <h3>What is a Shift Cipher?</h3>
        <p>A shift cipher (also known as Caesar cipher) is a simple substitution cipher where each letter in the plaintext is shifted a certain number of places down or up the alphabet. The key is the number of positions to shift (1-25).</p>
        <h3>Key Characteristics:</h3>
        <ul>
            <li><strong>The Shift Value (The Key):</strong> This determines how many positions each letter is shifted.</li>
            <li><strong>Modular Arithmetic:</strong> The shifting wraps around the alphabet (modulo 26 for English).</li>
            <li><strong>Limited Keyspace:</strong> With only 25 possible keys, the cipher is vulnerable to brute force attacks.</li>
        </ul>
    </div>
    
    <form method="POST">
        <div class="shift-control">
            <label for="shift">Shift Value (1-25):</label>
            <input type="number" name="shift" min="1" max="25" value="{{ shift }}" required>
        </div>
        
        <div class="alphabet-visualization">
            <h3>Shift Visualization (Current shift: {{ shift }})</h3>
            <div class="alphabet-row">
                <strong>Plaintext: </strong>
                {% for letter in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' %}
                <div class="alphabet-letter">{{ letter }}</div>
                {% endfor %}
            </div>
            <div class="alphabet-row">
                <strong>Ciphertext:</strong>
                {% for i in range(26) %}
                <div class="alphabet-letter">{{ 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'[(i + shift) % 26] }}</div>
                {% endfor %}
            </div>
        </div>
        
        <div class="container">
            <div class="box">
                <h2>Encryption</h2>
                <label for="plaintext">Plaintext:</label>
                <textarea name="plaintext" placeholder="Enter text to encrypt">{{ request.form.plaintext if request.form.plaintext else '' }}</textarea>
                
                <button type="submit" name="encrypt">Encrypt</button>
                
                {% if encryption_result %}
                <div class="result">
                    <strong>Ciphertext:</strong>
                    <p>{{ encryption_result }}</p>
                </div>
                {% endif %}
                
                {% if encrypt_steps %}
                <div class="process-steps">
                    <h3>Encryption Process:</h3>
                    {% for step in encrypt_steps %}
                    <div class="process-step">{{ step }}</div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            
            <div class="box">
                <h2>Decryption</h2>
                <label for="ciphertext">Ciphertext:</label>
                <textarea name="ciphertext" placeholder="Enter text to decrypt">{{ request.form.ciphertext if request.form.ciphertext else '' }}</textarea>
                
                <button type="submit" name="decrypt">Decrypt</button>
                <button type="submit" name="brute_force">Brute Force Attack</button>
                
                {% if decryption_result %}
                <div class="result">
                    <strong>Decrypted Text:</strong>
                    <p>{{ decryption_result }}</p>
                </div>
                {% endif %}
                
                {% if decrypt_steps %}
                <div class="process-steps">
                    <h3>Decryption Process:</h3>
                    {% for step in decrypt_steps %}
                    <div class="process-step">{{ step }}</div>
                    {% endfor %}
                </div>
                {% endif %}
                
                {% if brute_force_results %}
                <div class="brute-force-results">
                    <h3>Brute Force Results:</h3>
                    <p>Since there are only 25 possible shift values, we can try them all:</p>
                    {% for result in brute_force_results %}
                    <div class="brute-force-result">
                        <strong>Shift {{ result.shift }}:</strong> {{ result.text }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
    </form>
</body>
</html>